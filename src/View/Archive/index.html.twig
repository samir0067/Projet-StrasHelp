{% extends 'layout.html.twig' %}
{% block title %}Annonces Archiver{% endblock %}

{% block content %}
<div class="container-fluid as_block_fluid">
<div class="container as_block">
    <h1 class="as_user_h1">Annonces Archiver</h1>
    <div class="row">
        <div class="col col-sm col-md col-lg col-xl">
            <form method="post">
                <div class="row as_ads_ilter">
                    <div class="col as_filter">
                        <label for="category_name">Catégorie</label><br>
                        <input type="text" list="category_name" name="category_name"
                               placeholder="Toutes les catégories" class="form-control as_thead"
                               value="{{ searchFilters.category_name }}"/>
                        <datalist id="category_name">
                            {% for categorie in categories %}#}
                                <option value="{{ categorie.name }}">{{ categorie.name }}</option>
                            {% endfor %}
                        </datalist>
                    </div>
                    <div class="col as_filter">
                        <label for="postcode">Département</label><br>
                        <input type="text" list="postcode" name="postcode"
                               placeholder="Tous les départements"
                               class="form-control as_thead" value="{{ searchFilters.postcode }}"/>
                        <datalist id="postcode">
                            {% for postcode in postcodes %}
                                <option value="{{ postcode.postcode }}">{{ postcode.postcode }}</option>
                            {% endfor %}
                        </datalist>
                    </div>
                    <div class="col as_filter">
                        <label for="postcode">Filtres</label><br>
                        <input type="submit" class="btn btn-outline-success as_thead"
                               value="Appliquer filtres">
                    </div>
                </div>
            </form>
        </div>
        <div class="table-responsive table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl">
            <table class="as_table table table-borderless">
                    <thead class="thead as_thead">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Titre</th>
                        <th scope="col">brief_desc</th>
                        <th scope="col">date</th>
                        <th scope="col">Catégorie</th>
                        <th scope="col">Département</th>
                        <th scope="col">Annonceur</th>
                        <th class="as_th">Outil</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for archive in allArchive %}
                        <tr>
                            <td scope="row"> {{ archive.id }}</td>
                            <td scope="row"> {{ archive.title }}</td>
                            <td scope="row"> {{ archive.brief_desc[:50] }}...</td>
                            <td scope="row"> {{ archive.datePosted }}</td>
                            <td scope="row"> {{ archive.category_name }}</td>
                            <td scope="row"> {{ archive.postcode }}</td>
                            <td scope="row"> {{ archive.firstname }} {{ archive.lastname }}</td>
                            <td><a href="/Archive/view/{{ archive.id }}" class="btn btn-outline-secondary as_a_view"><i
                                        class="fas fa-street-view"></i> détail de l'annonce</a></td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}